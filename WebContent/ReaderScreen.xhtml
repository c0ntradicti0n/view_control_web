<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Java3</title>
</h:head>


<h:body>
	<h:outputScript name="javascript/selection.js" target="body" />

	<h:outputStylesheet name="css/format.css" />
	<h:outputStylesheet name="css/diff_markup.css" />
	<h:outputStylesheet name="css/nav.css" />

	<div id="controls">
		<h:form>
			<p:growl id="msgs" showDetail="true" escape="false" />

			<h3>Documents</h3>
			<p:tree value="#{navBean.root}" var="doc" selectionMode="single"
				selection="#{navBean.singleSelectedNode}">
				<p:treeNode icon="ui-icon-note">
					<h:outputText value="#{doc.name}" />
				</p:treeNode>
				<p:treeNode type="document" icon="ui-icon-document">
					<h:outputText value="#{doc.name}" />
				</p:treeNode>
				<p:treeNode type="picture" icon="ui-icon-image">
					<h:outputText value="#{doc.name}" />
				</p:treeNode>
				<p:treeNode type="mp3" icon="ui-icon-video">
					<h:outputText value="#{doc.name}" />
				</p:treeNode>
			</p:tree>
			<br />
			<p:commandButton value="Show selected" update="msgs text"
				icon="ui-icon-newwin"
				actionListener="#{ccPyBean.displaySelectedNode(navBean.singleSelectedNode)}" />
		</h:form>
		<h:form enctype="multipart/form-data">
			<p:fileUpload value="#{fileUploadView.file}" mode="simple"
				skinSimple="true" />
			<p:commandButton value="Submit" ajax="false"
				action="#{fileUploadView.upload}" />
		</h:form>
		<h:form>
			<p:commandButton value="Recompute all" ajax="false"
				action="#{ccPyBean.compAll}" />
		</h:form>
		<h:form id="xorm">
			<p:remoteCommand name="rc" action="#{ccPyBean.updateAnnotation}" />
			<p:commandButton type="button"
				onclick="rc([{'name':'selectedText','value':getSelectionText()}]);"
				value="Annotate Selection" update="xorm" />
			<h:panelGroup id="sample">
				<h:outputText escape="false" value="#{ccPyBean.annotationMarkup}" />

			</h:panelGroup>
		</h:form>

	</div>


	<div id="text_window">
		<h:panelGroup id="text" rendered="#{ccPyBean.path!=null}">
			<h4>
				<h:outputText id="out" value="#{ccPyBean.path}" />
			</h4>
			4<h:outputText value="#{ccPyBean.html}" escape="false" />

		</h:panelGroup>
	</div>



</h:body>
</html>
