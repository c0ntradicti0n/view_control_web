<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">


<h:head>
	<title>Java3</title>
</h:head>


<h:body>
	<h:form>

		<pe:masterDetail id="masterDetail"
			level="#{simpleMasterDetailController.currentLevel}">

			<pe:masterDetailLevel level="1" levelLabel="topics">
				<p:dataTable id="topics"
					value="#{simpleMasterDetailController.topics}" var="topic">
					<p:column headerText="topic">
						<p:commandLink value="#{topic.name}">
							<pe:selectDetailLevel contextValue="#{topic}" />
						</p:commandLink>
					</p:column>
					<p:column headerText="Number of documents with metas">
						<h:outputText value="1" />
					</p:column>
				</p:dataTable>
			</pe:masterDetailLevel>

			<pe:masterDetailLevel level="2" contextVar="topic"
				levelLabel="documents having #{topic.name} metas">
				<p:dataTable id="documents" value="#{topic.documents}"
					var="document">
					<p:column headerText="document">
						<p:commandLink value="#{document.name}">
							<pe:selectDetailLevel contextValue="#{document}" />
						</p:commandLink>
					</p:column>
					<p:column headerText="Code">
						<h:outputText value="#{document.code}" />
					</p:column>
				</p:dataTable>
			</pe:masterDetailLevel>

			<pe:masterDetailLevel level="3" contextVar="document"
				levelLabel="#{document.topic} metas of #{document.name}">
				<p:dataTable id="metas" value="#{document.metas}" var="meta">
					<p:column headerText="meta">
						<h:outputText value="#{meta.name}" />
					</p:column>
					<p:column headerText="Number of teams">
						<h:outputText value="#{meta.numberOfTeam}" />
					</p:column>
				</p:dataTable>
				<h:panelGrid columns="2" style="margin-top: 10px">
					<p:commandButton value="Go to topics"
						icon="ui-icon-arrowthickstop-1-w">
						<pe:selectDetailLevel level="1" />
					</p:commandButton>
					<p:commandButton value="Go to documents"
						icon="ui-icon-arrowthick-1-w">
						<pe:selectDetailLevel step="-1" />
					</p:commandButton>
				</h:panelGrid>
			</pe:masterDetailLevel>

		</pe:masterDetail>
	</h:form>
</h:body>
</html>